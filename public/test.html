<body>
  <canvas></canvas>
  <script>
    // const ctx = document.querySelector('canvas').getContext('2d');
    // ctx.fillRect(0, 0, 100, 100);
    let adapter, device;
    const shader = `
    struct VertexOut {
      @builtin(position) position : vec4f,
      @location(0) color : vec4f
    }

    @vertex
    fn vertex_main(@location(0) position: vec4f,
                  @location(1) color: vec4f) -> VertexOut
    {
      var output : VertexOut;
      output.position = position;
      output.color = color;
      return output;
    }

    @fragment
    fn fragment_main(fragData: VertexOut) -> @location(0) vec4f
    {
      return vec4f(1, 0, 0, 1);
      // return fragData.color;
    }
    `;
    (async () => {
      adapter = await navigator.gpu.requestAdapter();
      device = await adapter.requestDevice();
    })();
    let canvas = document.createElement('canvas');
let container = document.body;
container.appendChild(canvas);
let ctx = canvas.getContext('2d');
ctx.fillStyle = '#000';
ctx.fillRect(0, 0, 500, 500);

  </script>
</body>